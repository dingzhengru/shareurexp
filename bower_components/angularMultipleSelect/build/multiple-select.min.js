angular.module("templates",[]).run(["$templateCache",function(e){e.put("multiple-autocomplete-tpl.html",'<div class="ng-ms form-item-container">\r\n    <ul class="list-inline">\r\n        <li ng-repeat="item in modelArr">\r\n			<span ng-if="objectProperty == undefined || objectProperty == \'\'">\r\n				{{item}} <span class="remove" ng-click="removeAddedValues(item)">\r\n                <i class="glyphicon glyphicon-remove"></i></span>&nbsp;\r\n			</span>\r\n            <span ng-if="objectProperty != undefined && objectProperty != \'\'">\r\n				{{item[objectProperty]}} <span class="remove" ng-click="removeAddedValues(item)">\r\n                <i class="glyphicon glyphicon-remove"></i></span>&nbsp;\r\n			</span>\r\n        </li>\r\n        <li>\r\n            <input name="{{name}}" ng-model="inputValue" placeholder="" ng-keydown="keyParser($event)"\r\n                   err-msg-required="{{errMsgRequired}}"\r\n                   ng-focus="onFocus()" ng-blur="onBlur()" ng-required="!modelArr.length && isRequired"\r\n                    ng-change="onChange()">\r\n        </li>\r\n    </ul>\r\n</div>\r\n<div class="autocomplete-list" ng-show="isFocused || isHover" ng-mouseenter="onMouseEnter()" ng-mouseleave="onMouseLeave()">\r\n    <ul ng-if="objectProperty == undefined || objectProperty == \'\'">\r\n        <li ng-class="{\'autocomplete-active\' : selectedItemIndex == $index}"\r\n            ng-repeat="suggestion in suggestionsArr | filter : inputValue | filter : alreadyAddedValues"\r\n            ng-click="onSuggestedItemsClick(suggestion)" ng-mouseenter="mouseEnterOnItem($index)">\r\n            {{suggestion}}\r\n        </li>\r\n    </ul>\r\n    <ul ng-if="objectProperty != undefined && objectProperty != \'\'">\r\n        <li ng-class="{\'autocomplete-active\' : selectedItemIndex == $index}"\r\n            ng-repeat="suggestion in suggestionsArr | filter : inputValue | filter : alreadyAddedValues"\r\n            ng-click="onSuggestedItemsClick(suggestion)" ng-mouseenter="mouseEnterOnItem($index)">\r\n            {{suggestion[objectProperty]}}\r\n        </li>\r\n    </ul>\r\n</div>')}]),function(){angular.module("multipleSelect",["templates"]).config(function(){})}(),function(){angular.module("multipleSelect").directive("multipleAutocomplete",["$filter","$http",function(e,n){return{restrict:"EA",scope:{suggestionsArr:"=",modelArr:"=ngModel",apiUrl:"@",isHoverable:"=isHoverable"},templateUrl:"multiple-autocomplete-tpl.html",link:function(r,t,l){r.objectProperty=l.objectProperty,r.selectedItemIndex=0,r.name=l.name,r.isRequired=l.required,r.errMsgRequired=l.errMsgRequired,r.isHover=!1,r.isFocused=!1;var o=function(){var e=r.apiUrl;n({method:"GET",url:e}).then(function(e){r.suggestionsArr=e.data},function(){console.log("*****Angular-multiple-select **** ----- Unable to fetch list")})};(null==r.suggestionsArr||""==r.suggestionsArr)&&(null!=r.apiUrl&&""!=r.apiUrl?o():console.log("*****Angular-multiple-select **** ----- Please provide suggestion array list or url")),(null==r.modelArr||""==r.modelArr)&&(r.modelArr=[]),r.onFocus=function(){r.isFocused=!0,r.isOpen=!0},r.onMouseEnter=function(){r.isHoverable&&(r.isHover=!0)},r.onMouseLeave=function(){r.isHover=!1},r.onBlur=function(){r.isFocused=!1},r.onChange=function(){r.selectedItemIndex=0},r.keyParser=function(n){var t={38:"up",40:"down",8:"backspace",13:"enter",9:"tab",27:"esc"},l=t[n.keyCode];if("backspace"==l&&""==r.inputValue)0!=r.modelArr.length&&r.modelArr.pop();else if("down"==l){var o=e("filter")(r.suggestionsArr,r.inputValue);o=e("filter")(o,r.alreadyAddedValues),r.selectedItemIndex<o.length-1&&r.selectedItemIndex++}else if("up"==l&&r.selectedItemIndex>0)r.selectedItemIndex--;else if("esc"==l)r.isHover=!1,r.isFocused=!1;else if("enter"==l){var o=e("filter")(r.suggestionsArr,r.inputValue);o=e("filter")(o,r.alreadyAddedValues),r.selectedItemIndex<o.length&&r.onSuggestedItemsClick(o[r.selectedItemIndex])}},r.onSuggestedItemsClick=function(e){r.modelArr.push(e),r.inputValue=""};var i=function(e,n){var r=!1;if(null==e||""==e)return r;for(var t=0;t<e.length&&!(r=angular.equals(e[t],n));t++);return r};r.alreadyAddedValues=function(e){var n=!0;return n=!i(r.modelArr,e)},r.removeAddedValues=function(e){if(null!=r.modelArr&&""!=r.modelArr){var n=r.modelArr.indexOf(e);-1!=n&&r.modelArr.splice(n,1)}},r.mouseEnterOnItem=function(e){r.selectedItemIndex=e}}}}])}();